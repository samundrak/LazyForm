Array.prototype.insert=function(t,e){this.splice(t,0,e)};var Form=function(){function t(){this.replaceString="$input"}return t.prototype.setFormOptions=function(t){this.formOptions=t},t.prototype.getRawHTML=function(){return this.container.innerHTML},t.prototype.getContainer=function(){return this.container},t.prototype.create=function(t){if(!this.formOptions)return void console.warn("Form options must be set, to set form options you can call setFormOptions method");var e=this.buildForm();this.placeTheForm(e),this.buildChilds()},t.prototype.placeTheForm=function(t){if(this.formOptions.hasOwnProperty("container")){var e=this.formOptions.container;if(e.startsWith(".")){var r=document.getElementsByClassName(e.substring(1,e.length));r.length&&(this.container=r,r[0].appendChild(t))}else if(e.startsWith("#"))this.container=document.getElementById(e.substring(1,e.length)),this.container.appendChild(t);else{var r=document.getElementsByTagName(e);r.length&&(this.container=r,r[0].appendChild(t))}console.log(t)}},t.prototype.createFields=function(t,e){var r,i=document.createElement(t);if(i.setAttribute("type","text"),this.formOptions.fields.hasOwnProperty("common")){if(this.formOptions.fields.common.attr)for(var n in this.formOptions.fields.common.attr)i.setAttribute(n,this.formOptions.fields.common.attr[n]);r=e.attr.hasOwnProperty("template")?e.attr.template:this.formOptions.fields.common.hasOwnProperty("template")?this.formOptions.fields.common.template:this.replaceString}for(var n in e.attr)i.setAttribute(n,e.attr[n]);return{input:i,template:r}},t.prototype.buildChilds=function(){var t=this;if(this.formOptions.hasOwnProperty("fields")&&this.formOptions.fields.hasOwnProperty("fields")){var e,r=[];for(var i in this.formOptions.fields.fields)switch(i){case"input":this.formOptions.fields.fields[i].forEach(function(i){if(!Array.isArray(i.attr)){var n=document.createElement("temp"),o=t.createFields("input",i);n.appendChild(o.input);var s=o.template.replace(t.replaceString,n.innerHTML);"submit"==i.attr.type||"Submit"===i.attr.type?e=s:r.push({index:i.rank||-1,data:s})}});break;case"select":this.formOptions.fields.fields[i].forEach(function(e){var i=document.createElement("temp"),n=t.createFields("select",e);e.options.forEach(function(t){var e=document.createElement("option");for(var r in t.attr)e.setAttribute(r,t.attr[r]),e.innerHTML=t.text;n.input.appendChild(e)}),i.appendChild(n.input);var o=n.template.replace(t.replaceString,i.innerHTML);r.push({index:e.rank||-1,data:o})});break;case"checkbox":case"radio":this.formOptions.fields.fields[i].forEach(function(e){var n=i,o=document.createElement("temp");e.fields.forEach(function(t){var r=(document.createElement("temp"),document.createElement("input"));r.setAttribute("type",n),e.name&&r.setAttribute("name",e.name||""),e["class"]&&r.setAttribute("class",e["class"]);for(var i in t)r.setAttribute(i,t[i]);o.appendChild(r)});var s=e.template?e.template:t.formOptions.fields.common.hasOwnProperty("template")?t.formOptions.fields.common.template:t.replaceString,a=s.replace(t.replaceString,o.innerHTML);r.push({index:e.rank||-1,data:a})})}var n=[];r.forEach(function(t){var e=t.index<0?r.length:t.index;n.insert(e,t.data)}),n.forEach(function(e){t.form.innerHTML=t.form.innerHTML+e}),this.form.innerHTML=this.form.innerHTML+e}},t.prototype.buildForm=function(){var t=document.createElement("Form");if(void 0!==this.formOptions)return this.formOptions.hasOwnProperty("attribute")&&"object"==typeof this.formOptions.attribute&&this.setAttributes(this.formOptions.attribute,t),this.form=t,t},t.prototype.setAttributes=function(t,e){for(var r in t)e.setAttribute(r,t[r])},t}();